{% extends 'user_askVibes/include/auth-base.html' %}
{% load static %}

{% block title %}
Register {{ block.super }}
{% endblock %}

{% block content %}
  <main class="main-content mt-0 ps">
    <section>
      <div class="page-header min-vh-100">
        <div class="container">
          <div class="row">
            <div class="col-6 d-lg-flex d-none h-100 my-auto pe-0 position-absolute top-0 start-0 text-center justify-content-center flex-column">
              <div class="position-relative h-100 m-3 px-7 border-radius-lg d-flex flex-column justify-content-center" style="background-image: url('{% static 'user_askVibes/img/register-bg.png' %}'); background-size: cover;"></div>
            </div>
            <div class="col-xl-4 col-lg-5 col-md-7 d-flex flex-column ms-auto me-auto ms-lg-auto me-lg-5">
              <div class="card card-plain">

                <a href="{% url 'index' %}" class="logo">
                  <img src="{% static 'user_askVibes/img/dark-query-safe-logo.png' %}" alt="logo" class="navbar-brand-img h-100" style="width: 200px; height: auto;" />
                </a>

                <div class="card-header">
                  <h4 class="font-weight-bolder">Sign Up</h4>
                  <p class="mb-0">Enter your details to register</p>
                </div>
                <div class="card-body">
                  <form role="form" method="POST">
                    {% csrf_token %}
                    <div class="input-group input-group-outline mb-3">{{ form.name }}</div>
                    <div class="input-group input-group-outline mb-3">{{ form.email }}</div>
                    <div class="input-group input-group-outline mb-3">
                      {{ form.password }}
                    </div>
                    <div class="input-group input-group-outline mb-3">
                      {{ form.confirm_password }}
                    </div>
                    <div class="form-check form-check-info text-start ps-0">
                      <input class="form-check-input form-input-custom-checkbox" type="checkbox" value="" id="flexCheckDefault" checked="" />
                      <label class="form-check-label" for="flexCheckDefault">I agree the <a href="javascript:;" class="text-dark font-weight-bolder">Terms and Conditions</a></label>
                    </div>
                    <div class="text-center">
                      <button type="submit" class="btn btn-lg bg-gradient-dark btn-lg w-100 mt-4 mb-0">Sign Up</button>
                    </div>
                  </form>
                </div>
                <div class="card-footer text-center pt-0 px-lg-2 px-1">
                  <p class="mb-2 text-sm mx-auto">
                    Already have an account?
                    <a href="{% url 'login' %}" class="text-primary font-weight-bold">Sign in</a>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
{% endblock %}

{% block extra_css %}
  <style>
    .input-group-outline {
      position: relative;
    }
    .form-control {
      border: 1px solid #d2d6da;
      padding: 0.625rem 0.75rem;
      line-height: 1.3;
    }
    .alert {
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 0.5rem;
    }
    .alert-error {
      background-color: #f44335;
    }
    .alert-success {
      background-color: #4caf50;
    }

    /* Custom Checkbox Styling */
    .form-input-custom-checkbox {
        width: 1.2rem !important;
        height: 1.2rem !important;
        margin-top: 0.25rem !important;
        background-color: #fff !important;
        border: 2px solid #d2d6da !important;
        border-radius: 0.25rem !important;
        transition: all 0.2s ease-in-out !important;
        appearance: none !important;
        -webkit-appearance: none !important;
        cursor: pointer !important;
        position: relative !important;
    }
    #flexCheckDefault{
      margin-left: 0px !important;
    }
    .form-input-custom-checkbox:checked {
        background-color: #7125be !important;
        border-color: #7125be !important;
    }

    .form-input-custom-checkbox:checked::after {
        content: 'âœ“' !important;
        position: absolute !important;
        color: white !important;
        font-size: 0.9rem !important;
        font-weight: bold !important;
        left: 50% !important;
        top: 50% !important;
        transform: translate(-50%, -50%) !important;
    }

    .form-input-custom-checkbox:focus {
        border-color: #7125be !important;
        box-shadow: 0 0 0 0.2rem rgba(113, 37, 190, 0.25) !important;
        outline: none !important;
    }

    /* Fix checkbox position and label alignment */
    .form-check {
        padding-left: 0.5rem !important;
        display: flex !important;
        align-items: center !important;
    }

    .form-check-label {
        margin-left: 0.5rem !important;
        user-select: none !important;
    }

    .error-feedback {
        position: absolute;
        bottom: -20px;
        left: 0;
        font-size: 0.75rem;
        margin-top: 0.25rem;
    }

    .input-group {
        position: relative;
        margin-bottom: 1.5rem;
    }

    .input-group-outline.has-error .form-control {
        border-color: #fd5c70;
    }

    .input-group.has-error .form-control {
        border-color: #fd5c70 !important;
        box-shadow: 0 0 0 0.2rem rgba(253, 92, 112, 0.25);
    }

    .error-feedback {
        position: absolute;
        bottom: -20px;
        left: 0;
        font-size: 0.75rem;
        color: #fd5c70;
        margin-top: 0.25rem;
    }

  </style>
{% endblock %}
